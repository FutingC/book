

<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Iterators and Generators &#8212; Scientific Computing with Python</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css" integrity="sha384-KA6wR/X5RY4zFAHpv/CnoG2UW1uogYfdnP67Uv7eULvTveboZJg0qUpmJZb5VqzN" crossorigin="anonymous">
    <link href="../_static/css/index.css" rel="stylesheet">
    <link rel="stylesheet" href="../_static/sphinx-book-theme.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/jupyter-sphinx.css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/sphinx-book-theme.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <script src="../_static/togglebutton.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/mystnb.js"></script>
    <script src="../_static/sphinx-book-theme.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="https://unpkg.com/@jupyter-widgets/html-manager@^0.18.0/dist/embed-amd.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Miscellaneous" href="misc.html" />
    <link rel="prev" title="Decorators" href="decorators.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="docsearch:language" content="en">



  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
<a class="navbar-brand text-wrap" href="../index.html">
  
  
  <h1 class="site-logo" id="site-title">Scientific Computing with Python</h1>
  
</a>
</div>

<form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form>

<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../introduction.html">
   Introduction
  </a>
 </li>
</ul>
<ul class="current nav sidenav_l1">
 <li class="toctree-l1 current active">
  <a class="reference internal" href="python.html">
   Python
  </a>
  <ul class="current">
   <li class="toctree-l2">
    <a class="reference internal" href="using_python.html">
     Using Python
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="basics.html">
     Basics
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="bitsbytes.html">
     Bits, Bytes, and Numbers
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="functions.html">
     Functions
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="classes.html">
     Object-Oriented Programming
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="modules.html">
     Modules and Packages
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="decorators.html">
     Decorators
    </a>
   </li>
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     Iterators and Generators
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="misc.html">
     Miscellaneous
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../01_analysis/analysis.html">
   Analysis of Algorithms
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../02_linear_algebra/linear_algebra.html">
   Linear Algebra
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../03_optimization/optimization.html">
   Optimization
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../04_functions/functions.html">
   Functions
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../05_graphs/graphs.html">
   Graphs
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../06_probability_statistics/prob_stat.html">
   Probability and Statistics
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../07_data/data.html">
   Data
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../08_geometry/geometry.html">
   Geometry
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../09_computing/computing.html">
   Computing
  </a>
 </li>
</ul>

</nav>

 <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="row topbar fixed-top container-xl">
    <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show">
    </div>
    <div class="col pl-2 topbar-main">
        
        <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
            data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
            aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
            title="Toggle navigation" data-toggle="tooltip" data-placement="left">
            <i class="fas fa-bars"></i>
            <i class="fas fa-arrow-left"></i>
            <i class="fas fa-arrow-up"></i>
        </button>
        
        <div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    
    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../_sources/00_python/iterators.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
    
</div>
        <!-- Source interaction buttons -->


        <!-- Full screen (wrap in <a> to have style consistency -->
        <a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
                data-placement="bottom" onclick="toggleFullScreen()" title="Fullscreen mode"><i
                    class="fas fa-expand"></i></button></a>

        <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/caam37380/book/master?urlpath=tree/00_python/iterators.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="../_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        <a class="colab-button" href="https://colab.research.google.com/github/caam37380/book/blob/master/00_python/iterators.ipynb"><button type="button" class="btn btn-secondary topbarbtn"
                title="Launch Colab" data-toggle="tooltip" data-placement="left"><img class="colab-button-logo"
                    src="../_static/images/logo_colab.png"
                    alt="Interact on Colab">Colab</button></a>
        
        
    </div>
</div>

    </div>

    <!-- Table of contents -->
    <div class="d-none d-md-block col-md-2 bd-toc show">
        <div class="tocsection onthispage pt-5 pb-3">
            <i class="fas fa-list"></i> Contents
        </div>
        <nav id="bd-toc-nav">
            <ul class="nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#a-basic-iterator">
   A Basic Iterator
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#using-iterators-for-computation">
   Using Iterators for Computation
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#exercises">
     Exercises
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#generators">
   Generators
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id1">
     Exercises
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#zip-and-reverse">
   zip and reverse
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#the-itertools-package">
   The Itertools Package
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#iterators-for-scientific-computing">
   Iterators for Scientific Computing
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id2">
     Exercises
    </a>
   </li>
  </ul>
 </li>
</ul>

        </nav>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="iterators-and-generators">
<h1>Iterators and Generators<a class="headerlink" href="#iterators-and-generators" title="Permalink to this headline">¶</a></h1>
<p>So far, you have seen things like</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span>
<span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">a</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-none notranslate"><div class="highlight"><pre><span></span>1
2
3
</pre></div>
</div>
</div>
</div>
<p>This looks very different from a C-style for loop where we loop over the variable index:</p>
<div class="highlight-C++ notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="p">(</span><span class="kt">size_t</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">3</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">i</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Or for instance, we can use something called a <code class="docutils literal notranslate"><span class="pre">range</span></code></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-none notranslate"><div class="highlight"><pre><span></span>0
1
2
</pre></div>
</div>
</div>
</div>
<p>or other data types</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">d</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;hello&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;goodbye&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">}</span>
<span class="k">for</span> <span class="n">k</span><span class="p">,</span><span class="n">v</span> <span class="ow">in</span> <span class="n">d</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="s1">&#39; : &#39;</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-none notranslate"><div class="highlight"><pre><span></span>hello  :  1
goodbye  :  2
</pre></div>
</div>
</div>
</div>
<p>The key to using this sort of syntax is the concept of <a class="reference external" href="https://wiki.python.org/moin/Iterator">iterator</a>.  This is common in object-oriented programming (not just in Python), but you probably haven’t seen iterators before if you’ve only used imperative languages.</p>
<p>An object is <strong>iterable</strong> if it implements the <code class="docutils literal notranslate"><span class="pre">__iter__</span></code> method, which is expected to return an iterator object.
An object is an <strong>iterator</strong> if it implements the <code class="docutils literal notranslate"><span class="pre">__next__</span></code> method, which either</p>
<ol class="simple">
<li><p>returns the next element of the iterable object</p></li>
<li><p>raises the <code class="docutils literal notranslate"><span class="pre">StopIteration</span></code> exception if there are no more elements to iterate over</p></li>
</ol>
<div class="section" id="a-basic-iterator">
<h2>A Basic Iterator<a class="headerlink" href="#a-basic-iterator" title="Permalink to this headline">¶</a></h2>
<p>What if we want to replicate <code class="docutils literal notranslate"><span class="pre">range</span></code>?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">r</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="nb">type</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-none notranslate"><div class="highlight"><pre><span></span>range
</pre></div>
</div>
</div>
</div>
<p>we can produce an iterator using the <code class="docutils literal notranslate"><span class="pre">iter</span></code> function</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ri</span> <span class="o">=</span> <span class="nb">iter</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
<span class="nb">type</span><span class="p">(</span><span class="n">ri</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-none notranslate"><div class="highlight"><pre><span></span>range_iterator
</pre></div>
</div>
</div>
</div>
<p>we can explicitly run through the iterator using the <code class="docutils literal notranslate"><span class="pre">next</span></code> function</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">next</span><span class="p">(</span><span class="n">ri</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-none notranslate"><div class="highlight"><pre><span></span>0
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">my_range_iterator</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">stop</span><span class="p">,</span> <span class="n">stride</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">state</span> <span class="o">=</span> <span class="n">start</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stop</span> <span class="o">=</span> <span class="n">stop</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stride</span> <span class="o">=</span> <span class="n">stride</span>
        
    <span class="k">def</span> <span class="fm">__next__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">state</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">stop</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">StopIteration</span>  <span class="c1"># signals &quot;the end&quot;</span>
        <span class="n">ret</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">state</span> <span class="c1"># we&#39;ll return current state</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">state</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">stride</span> <span class="c1"># increment state</span>
        <span class="k">return</span> <span class="n">ret</span>
        
        
<span class="c1"># an iterable</span>
<span class="k">class</span> <span class="nc">my_range</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">stop</span><span class="p">,</span> <span class="n">stride</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">start</span> <span class="o">=</span> <span class="n">start</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stop</span> <span class="o">=</span> <span class="n">stop</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stride</span> <span class="o">=</span> <span class="n">stride</span>
    
    <span class="k">def</span> <span class="fm">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">my_range_iterator</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">start</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">stop</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">stride</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">r</span> <span class="o">=</span> <span class="n">my_range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="nb">type</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-none notranslate"><div class="highlight"><pre><span></span>__main__.my_range
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ri</span> <span class="o">=</span> <span class="nb">iter</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
<span class="nb">type</span><span class="p">(</span><span class="n">ri</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-none notranslate"><div class="highlight"><pre><span></span>__main__.my_range_iterator
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">next</span><span class="p">(</span><span class="n">ri</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-none notranslate"><div class="highlight"><pre><span></span>0
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">my_range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-none notranslate"><div class="highlight"><pre><span></span>0
1
2
</pre></div>
</div>
</div>
</div>
<p>You can also create classes that are both iterators and iterables</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># an iterable and iterator</span>
<span class="k">class</span> <span class="nc">my_range2</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">stop</span><span class="p">,</span> <span class="n">stride</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">start</span> <span class="o">=</span> <span class="n">start</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stop</span> <span class="o">=</span> <span class="n">stop</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stride</span> <span class="o">=</span> <span class="n">stride</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">state</span> <span class="o">=</span> <span class="n">start</span>
    
    <span class="k">def</span> <span class="fm">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span>
    
    <span class="k">def</span> <span class="fm">__next__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">state</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">stop</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">StopIteration</span>  <span class="c1"># signals &quot;the end&quot;</span>
        <span class="n">ret</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">state</span> <span class="c1"># we&#39;ll return current state</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">state</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">stride</span> <span class="c1"># increment state</span>
        <span class="k">return</span> <span class="n">ret</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">my_range2</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-none notranslate"><div class="highlight"><pre><span></span>0
1
2
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="using-iterators-for-computation">
<h2>Using Iterators for Computation<a class="headerlink" href="#using-iterators-for-computation" title="Permalink to this headline">¶</a></h2>
<p>Let’s now use iterators for something more interesting - computing the Fibonacci numbers.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">FibonacciIterator</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">a</span> <span class="o">=</span> <span class="mi">0</span> <span class="c1"># current number</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">b</span> <span class="o">=</span> <span class="mi">1</span> <span class="c1"># next number</span>
        
    <span class="k">def</span> <span class="fm">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span>
    
    <span class="k">def</span> <span class="fm">__next__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">ret</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">a</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">a</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">b</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">b</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">a</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">b</span> <span class="c1"># advance the iteration</span>
        <span class="k">return</span> <span class="n">ret</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">FibonacciIterator</span><span class="p">():</span>
    <span class="k">if</span> <span class="n">i</span> <span class="o">&gt;</span> <span class="mi">1000</span><span class="p">:</span>
        <span class="k">break</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-none notranslate"><div class="highlight"><pre><span></span>0
1
1
2
3
5
8
13
21
34
55
89
144
233
377
610
987
</pre></div>
</div>
</div>
</div>
<p>Note that we never raise a <code class="docutils literal notranslate"><span class="pre">StopIteration</span></code> exception - the iterator will just keep going if we let it.</p>
<div class="section" id="exercises">
<h3>Exercises<a class="headerlink" href="#exercises" title="Permalink to this headline">¶</a></h3>
</div>
</div>
<div class="section" id="generators">
<h2>Generators<a class="headerlink" href="#generators" title="Permalink to this headline">¶</a></h2>
<p>Often, a more elegant way to define an iterator is using a <a class="reference external" href="https://wiki.python.org/moin/Generators">generator</a></p>
<p>This is a special kind of iterator defined using a function instead of using classes that implement the <code class="docutils literal notranslate"><span class="pre">__iter__</span></code> and <code class="docutils literal notranslate"><span class="pre">__next__</span></code> methods.</p>
<p>See <a class="reference external" href="https://nvie.com/posts/iterators-vs-generators/">this post</a> for more discussion.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">my_range3</span><span class="p">(</span><span class="n">state</span><span class="p">,</span> <span class="n">stop</span><span class="p">,</span> <span class="n">stride</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
    <span class="k">while</span> <span class="n">state</span> <span class="o">&lt;</span> <span class="n">stop</span><span class="p">:</span>
        <span class="k">yield</span> <span class="n">state</span>
        <span class="n">state</span> <span class="o">+=</span> <span class="n">stride</span>
        
</pre></div>
</div>
</div>
</div>
<p>Note that we use the <code class="docutils literal notranslate"><span class="pre">def</span></code> keyword instead of the <code class="docutils literal notranslate"><span class="pre">class</span></code> keyword for our declaration.  The <code class="docutils literal notranslate"><span class="pre">yield</span></code> keyword returns subsequent values of the iteration.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">r</span> <span class="o">=</span> <span class="n">my_range3</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="nb">type</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-none notranslate"><div class="highlight"><pre><span></span>generator
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ri</span> <span class="o">=</span> <span class="nb">iter</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
<span class="nb">type</span><span class="p">(</span><span class="n">ri</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-none notranslate"><div class="highlight"><pre><span></span>generator
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">next</span><span class="p">(</span><span class="n">ri</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-none notranslate"><div class="highlight"><pre><span></span>0
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">my_range3</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-none notranslate"><div class="highlight"><pre><span></span>0
1
2
</pre></div>
</div>
</div>
</div>
<p>Our Fibonacci example re-written using a generator:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">FibonacciGenerator</span><span class="p">():</span>
    <span class="n">a</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">b</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
        <span class="k">yield</span> <span class="n">a</span>
        <span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="n">b</span><span class="p">,</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">FibonacciGenerator</span><span class="p">():</span>
    <span class="k">if</span> <span class="n">i</span> <span class="o">&gt;</span> <span class="mi">1000</span><span class="p">:</span>
        <span class="k">break</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-none notranslate"><div class="highlight"><pre><span></span>0
1
1
2
3
5
8
13
21
34
55
89
144
233
377
610
987
</pre></div>
</div>
</div>
</div>
<div class="section" id="id1">
<h3>Exercises<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
</div>
</div>
<div class="section" id="zip-and-reverse">
<h2>zip and reverse<a class="headerlink" href="#zip-and-reverse" title="Permalink to this headline">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">a</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">]):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">a</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-none notranslate"><div class="highlight"><pre><span></span>0 a
1 b
2 c
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">reversed</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">)):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-none notranslate"><div class="highlight"><pre><span></span>2
1
0
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="the-itertools-package">
<h2>The Itertools Package<a class="headerlink" href="#the-itertools-package" title="Permalink to this headline">¶</a></h2>
<p>A useful package for dealing with iterators is the <a class="reference external" href="https://docs.python.org/3.8/library/itertools.html">itertools package</a></p>
</div>
<div class="section" id="iterators-for-scientific-computing">
<h2>Iterators for Scientific Computing<a class="headerlink" href="#iterators-for-scientific-computing" title="Permalink to this headline">¶</a></h2>
<p>One way to use iterators for scientific computing</p>
<p>Iterator for power method</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="k">def</span> <span class="nf">PowerMethodIterator</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
    
    <span class="k">def</span> <span class="nf">RayleighQuotient</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">A</span> <span class="o">@</span> <span class="n">x</span><span class="p">)</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">x</span><span class="p">)</span>
    
    <span class="n">x</span> <span class="o">=</span> <span class="n">x</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
    <span class="n">rq_prev</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">inf</span>
    <span class="n">rq</span> <span class="o">=</span> <span class="n">RayleighQuotient</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
    
    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
        <span class="c1"># yield state: RayleighQuotient, x, and difference from previous iteration</span>
        <span class="k">yield</span> <span class="n">rq</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">rq</span> <span class="o">-</span> <span class="n">rq_prev</span><span class="p">)</span>
        
        <span class="c1"># compute next iteration</span>
        <span class="n">x</span> <span class="o">=</span> <span class="n">A</span> <span class="o">@</span> <span class="n">x</span>
        <span class="n">x</span> <span class="o">=</span> <span class="n">x</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
        <span class="n">rq_prev</span> <span class="o">=</span> <span class="n">rq</span>
        <span class="n">rq</span> <span class="o">=</span> <span class="n">RayleighQuotient</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
    
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">n</span> <span class="o">=</span> <span class="mi">100</span>
<span class="n">A</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
<span class="n">A</span> <span class="o">=</span> <span class="n">A</span> <span class="o">@</span> <span class="n">A</span><span class="o">.</span><span class="n">T</span>
<span class="n">x0</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>

<span class="n">solver</span> <span class="o">=</span> <span class="n">PowerMethodIterator</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">x0</span><span class="p">)</span>
<span class="n">tol</span> <span class="o">=</span> <span class="mf">1e-4</span>

<span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
    <span class="n">rq</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">eps</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">solver</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">rq</span><span class="p">,</span> <span class="n">eps</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">eps</span> <span class="o">&lt;</span> <span class="n">tol</span><span class="p">:</span>
        <span class="k">break</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-none notranslate"><div class="highlight"><pre><span></span>84.25683909877539 inf
264.6639621491942 180.40712305041882
312.14753321758786 47.483571068393644
335.1446480310978 22.99711481350994
348.86736705264184 13.722719021544037
357.56240574660643 8.695038693964591
363.2983974059517 5.735991659345245
367.223080606914 3.9246832009623063
369.9984018680257 2.775321261111742
372.0208787647975 2.0224768967717637
373.5369882956014 1.5161095308039307
374.7045562191158 1.1675679235143548
375.62689742470985 0.9223412055940798
376.372821440968 0.7459240162581295
376.9888678663172 0.616046425349225
377.50700940145526 0.5181415351380565
377.9495896881233 0.44258028666803284
378.33252478704344 0.382935098920143
378.6673953626081 0.3348705755646506
378.9628227482253 0.29542738561718807
379.2253795406652 0.26255679243990926
379.4601961146322 0.2348165739670094
379.67136765746494 0.2111715428327443
379.86222983822483 0.19086218075989336
380.0355476310617 0.1733177928368832
380.1936464793765 0.15809884831480758
380.33850498324506 0.14485850386853372
380.4718217449528 0.13331676170776063
380.59506471168385 0.12324296673102708
380.7095085311189 0.11444381943505277
380.816263578141 0.10675504702209082
380.9162990879977 0.10003550985669563
381.0104620260757 0.09416293807800002
381.0994927942041 0.08903076812839572
381.18403852409233 0.08454572988824793
381.2646644781499 0.08062595405755246
381.34186392564783 0.0771994474979465
381.41606676104726 0.07420283539943284
381.48764706364034 0.0715803025930768
381.5569297517923 0.06928268815198635
381.62419645347705 0.06726670168472992
381.6896906924886 0.0654942390115707
381.7536224735008 0.06393178101217245
381.81617233695204 0.06254986345123825
381.8774949452277 0.06132260827564551
381.93772225394105 0.060227308713365346
381.9969663157289 0.05924406178786512
382.0553217585358 0.058355442806885094
382.1128679756291 0.057546217093317864
382.1696710604212 0.05680308479207952
382.2257855154834 0.05611445506218615
382.2812557618359 0.055470246352513186
382.3361174716582 0.05486170982231897
382.3903987449243 0.054281273266099106
382.444121148119 0.053722403194683466
382.49730063108615 0.05317948296715258
382.54994833619116 0.052647705105016485
382.60207131230976 0.0521229761185964
382.65367314468466 0.05160183237489946
382.7047545103719 0.051081365687252855
382.7553136678504 0.05055915747846029
382.805346888336 0.050033220485602214
382.8548488354482 0.049501947112219113
382.9038128990763 0.048964063628091026
382.95223148860043 0.04841858952414668
383.0000962900047 0.047864801404273294
383.04739849088764 0.047302200882938905
383.09412897689936 0.04673048601171104
383.14027850272544 0.04614952582608112
383.18583784037423 0.04555933764879683
383.2307979072116 0.04496006683734777
383.27514987590547 0.044351968693888466
383.31888526820654 0.04373539230107326
383.36199603427406 0.04311076606751385
383.40447461907604 0.04247858480198374
383.44631401722495 0.04183939814890891
383.4875078174708 0.041193800245878265
383.5280502379502 0.04054242047936896
383.56793615317235 0.039885915222157564
383.60716111363513 0.039224960462775016
383.6457213588707 0.038560245235544244
383.6836138246489 0.03789246577821359
383.7208361449963 0.03722232034743911
383.75738664962967 0.03655050463333964
383.7932643573477 0.03587770771804344
383.82846896587796 0.035204608530250425
383.8630008386301 0.03453187275215441
383.8968609887677 0.0338601501375706
383.93005106097667 0.03319007220898129
383.96257331127276 0.0325222502960969
383.9944305851627 0.03185727388995474
384.02562629444395 0.03119570928123494
384.05616439290634 0.030538098462386642
384.0860493511706 0.02988495826423332
384.1152861308815 0.029236779710913652
384.14388015844935 0.028594027567862668
384.1718372985192 0.02795714006987282
384.19916382732634 0.02732652880712294
384.2258664060793 0.02670257875297466
384.25195205450484 0.026085648425521413
384.27742812466136 0.025476070156514652
384.30230227512976 0.024874150468406242
384.3265824456647 0.024280170534950685
384.3502768323893 0.02369438672457136
384.3733938635962 0.023117031206936645
384.395942176217 0.022548312620756406
384.4179305930041 0.021988416787110054
384.439368100471 0.02143750746688511
384.4602638276182 0.02089572714720589
384.4806270254748 0.020363197856624993
384.5004670474725 0.019840021997708845
384.51979333066663 0.019326283194118332
384.53861537781285 0.018822047146215937
384.5569427403012 0.018327362488378185
384.574785001948 0.017842261646762836
384.5921517636402 0.017366761692187538
384.6090526288233 0.01690086518311773
384.62549718982297 0.016444560999673286
384.6414950149833 0.01599782516035475
384.65705563660777 0.015560621624445048
384.67218853968456 0.015132903076789717
384.6869031513716 0.014714611687054457
384.7012088312267 0.014305679855112885
384.71511486215246 0.013906030925738833
384.728630442037 0.01351557988454033
384.74176467606395 0.013134234026949798
384.7545265696659 0.012761893601975771
384.7669250220969 0.01239845243100035
384.778968820597 0.012043798500087632
384.7906666351238 0.011697814526769434
384.80202701362487 0.011360378501080959
384.8130583778242 0.01103136419931161
384.82376901949857 0.010710641674393173
384.8341670972193 0.010398077720708443
384.8442606335321 0.010093536312808737
384.8540575125537 0.009796879021621407
384.8635654779598 0.009507965406100993
384.8727921313433 0.009226653383507255
384.88174493091725 0.008952799573933135
384.89043119054566 0.008686259628404969
384.8988580790764 0.008426888530721044
384.9070326199598 0.008174540883430836
384.91496169113157 0.007929071171759006
384.9226520251417 0.007690334010135302
384.9301102095122 0.007458184370477738
384.9373426873058 0.007232477793593262
384.94435575789 0.007013070584207526
384.95115557787983 0.00679981998985113
384.9577481622462 0.006592584366387655
384.9641393855727 0.006391223326488671
384.9703349834522 0.006195597879468551
384.9763405540051 0.006005570552929385
384.98216155951195 0.005821005506845722
384.9878033281451 0.005641768633154243
384.99327105579266 0.005467727647555876
384.99856980796073 0.005298752168073406
385.00370452174775 0.005134713787015244
385.0086800078792 0.004975486131456819
385.013500952797 0.004820944917810266
385.01817192079363 0.004670967996617037
385.02269735618427 0.0045254353906329925
385.0270815855116 0.004384229327342837
385.0313288197741 0.0042472342624932935
385.03544315667426 0.004114336900158833
385.0394285828803 0.00398542620604303
385.0432889762968 0.003860393416516672
385.04702810833805 0.0037391320412325513
385.050649646202 0.003621537863921276
385.0541571551394 0.003507508937445891
385.0575541007147 0.0033969455752753674
385.0608438510545 0.0032897503398316985
385.06402967908343 0.003185828028904325
385.06711476474084 0.003085085657403397
385.0701021971777 0.002987432436839299
385.0729949769324 0.0028927797547453338
385.0757960180813 0.0028010411488708087
385.0785081503623 0.002712132281033064
385.081134121273 0.0026259709106852824
385.08367659813695 0.0025424768639368267
385.08613817014094 0.002461572003994661
385.0885213503401 0.002383180199160506
385.0908285776296 0.002307227289520597
385.0930622186841 0.002233641054488089
385.0952245698622 0.002162351178071731
385.09731785907564 0.0020932892134624126
385.09934424762474 0.0020263885490976463
385.1013058319956 0.0019615843708606917
385.1032046456245 0.0018988136288839996
385.1050426606235 0.0018380149990093742
385.1068217894716 0.001779128848113487
385.1085438866689 0.0017220971972733423
385.11021075035455 0.0016668636856707053
385.11182412388894 0.0016133735343828448
385.11338569740013 0.0015615735111964568
385.11489710929425 0.0015114118941141896
</pre></div>
</div>
<div class="output stream highlight-none notranslate"><div class="highlight"><pre><span></span>385.1163599477303 0.0014628384360548807
385.11777575206133 0.0014158043310317225
385.11914601423877 0.0013702621774314139
385.12047218018375 0.0013261659449881336
385.1217556511248 0.0012834709410185496
385.1229977849009 0.0012421337761452378
385.124199897233 0.0012021123320664628
385.1253632629612 0.001163365728189092
385.126489117252 0.0011258542908194613
385.1275786567728 0.0010895395208194714
385.1286330408353 0.0010543840625132361
385.12965339251014 0.0010203516748106267
385.13064079970945 0.0009874071993181133
385.1315963162427 0.0009555165332244542
385.1325209628408 0.0009246465980936591
385.1334157281561 0.0008947653153086321
385.1342815697308 0.0008658415746936043
385.13511941494164 0.0008378452108672718
385.1359301619166 0.0008107469749347729
385.1367146804257 0.0007845185091355233
385.1374738127487 0.0007591323229689806
385.13820837451493 0.000734561766250863
385.1389191555224 0.0007107810074558074
385.13960692053115 0.0006877650087631082
385.1402724100351 0.0006654895039446274
385.1409163410106 0.0006439309755137401
385.1415394076439 0.000623066633295366
385.1421422820374 0.0006028743935075909
385.14272561489435 0.0005833328569337937
385.14329003618474 0.0005644212903916923
385.14383615579055 0.0005461196058149653
385.144364564132 0.0005284083414380802
385.1448758327754 0.0005112686434358693
385.1453705150232 0.0004946822477904789
385.14584914648543 0.0004786314622151622
385.14631224563504 0.0004630991496128445
385.14676031434567 0.0004480687106251935
385.14719383841384 0.00043352406817120936
385.14761328806486 0.00041944965101947673
385.14801911844387 0.00040583037900887575
385.148411770091 0.00039265164713242484
385.1487916694038 0.00037989931280435485
385.1491592290833 0.00036755967948920443
385.14951484856806 0.00035561948476470207
385.14985891445446 0.0003440658863951285
385.1501918009038 0.0003328864493710171
385.150513870037 0.0003220691331762282
385.1508254723173 0.00031160228030557846
385.1511269469207 0.00030147460341822807
385.15141862209515 0.00029167517442374447
385.15170081550923 0.0002821934140797566
385.1519738345884 0.0002730190791453424
385.15223797684223 0.00026414225385451573
385.15249353018123 0.00025555333900229016
385.15274077322294 0.0002472430417128635
385.152979975589 0.00023920236606045364
385.1532113981933 0.00023142260431541217
385.15343529352026 0.00022389532693978254
385.15365190589495 0.00021661237468606487
385.1538614717448 0.0002095658498433295
385.154064219852 0.0002027481071991133
385.1542603715996 0.00019615174761611343
385.15445014120905 0.00018976960944883103
385.154633735969 0.00018359475996021501
385.1548113564595 0.00017762049048997142
385.15498319676647 0.00017184030696171249
</pre></div>
</div>
<div class="output stream highlight-none notranslate"><div class="highlight"><pre><span></span>385.1551494446916 0.00016624792510810948
385.1553102819536 0.00016083726200122328
385.15546588438417 0.00015560243059553613
385.1556164221183 0.00015053773415729665
385.155762059777 0.00014563765864750167
385.1559029566448 0.0001408968678333622
385.156039266843 0.00013631019817239576
385.15617113949475 0.00013187265176384244
385.15629871888706 0.00012757939231278215
385.1564221446268 0.0001234257397300098
385.15654155179186 0.00011940716507297111
385.1566570710769 0.00011551928503195086
385.15676882893587 0.0001117578589742152
385.1568769477177 0.00010811878183858425
385.15698154580036 0.00010459808265750326
385.1570827377184 0.00010119191802004934
385.15718063428744 9.789656905923039e-05
</pre></div>
</div>
</div>
</div>
<p>If we decide that we’re not satisfied with convergence yet, we can resume where we left off</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">tol</span> <span class="o">=</span> <span class="mf">1e-6</span>

<span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
    <span class="n">rq</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">eps</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">solver</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">rq</span><span class="p">,</span> <span class="n">eps</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">eps</span> <span class="o">&lt;</span> <span class="n">tol</span><span class="p">:</span>
        <span class="k">break</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-none notranslate"><div class="highlight"><pre><span></span>385.1572753427246 9.470843713188515e-05
385.15736696676447 9.162403989648737e-05
385.1574556067728 8.864000835728802e-05
385.15754135985446 8.575308163472073e-05
385.15762431995955 8.296010508956897e-05
385.15770457798544 8.025802588917941e-05
385.1577822218761 7.764389067688171e-05
385.1578573367169 7.511484079714137e-05
385.1579300048278 7.266811087447422e-05
385.1580003058534 7.030102563021501e-05
385.1580683168488 6.801099539188726e-05
385.15813411236405 6.579551524055205e-05
385.15819776452514 6.365216108861205e-05
385.1582593431129 6.157858774713532e-05
385.15831891563914 5.957252625421461e-05
385.1583765474196 5.763178046436224e-05
385.1584323016464 5.57542268211364e-05
385.15848623945544 5.3937809013859805e-05
385.1585384199944 5.21805389439578e-05
385.15858890048685 5.048049246170194e-05
385.15863773629474 4.8835807888281124e-05
385.15868498097865 4.7244683912595065e-05
385.1587306863563 4.570537765857807e-05
385.1587749025599 4.421620360517409e-05
385.1588176780897 4.2775529777827614e-05
385.15885905986795 4.13817782600745e-05
385.15889909328973 4.0033421782936784e-05
385.158937822273 3.872898327017538e-05
385.1589752893059 3.746703288243225e-05
385.1590115354936 3.624618773301336e-05
385.15904660060374 3.506511012574265e-05
385.15908052310874 3.392250499700822e-05
385.1591133402296 3.2817120882100426e-05
385.15914508797437 3.174774474246078e-05
385.15917580117974 3.071320537628708e-05
385.1592055135479 2.9712368132095435e-05
385.15923425768364 2.874413576137158e-05
385.1592620651303 2.7807446656424872e-05
385.15928896640395 2.6901273656676494e-05
385.1593149910273 2.6024623366538435e-05
385.15934016756137
</pre></div>
</div>
<div class="output stream highlight-none notranslate"><div class="highlight"><pre><span></span> 2.517653405220699e-05
385.1593645236372 2.4356075812193012e-05
385.15938808598605 2.3562348872019356e-05
385.1594108804687 2.279448267472617e-05
385.15943293210364 2.205163491453277e-05
385.15945426509455 2.1332990911560046e-05
385.1594749028568 2.0637762247588398e-05
385.1594948680431 1.996518631131039e-05
385.1595141825684 1.9314525275149208e-05
385.1595328676337 1.8685065299450798e-05
385.1595509437499 1.8076116191423353e-05
385.15956843075907 1.7487009188243974e-05
385.1595853478575 1.6917098434987565e-05
385.159601713616 1.63657584835164e-05
385.15961754600016 1.583238417879329e-05
385.1596328623908 1.5316390658881573e-05
385.1596476796024 1.481721159279914e-05
385.15966201390137 1.4334298953144753e-05
385.1596758810245 1.3867123129784886e-05
385.15968929619555 1.3415171054020902e-05
385.1597022741429 1.297794733545743e-05
385.1597148291144 1.2554971533518255e-05
385.1597269748943 1.2145779862748896e-05
385.1597387248174 1.1749923089610093e-05
385.15975009178385 1.1366966475634399e-05
385.15976108827414 1.0996490289016947e-05
385.15977172636167 1.0638087530878693e-05
385.1597820177263 1.0291364617387444e-05
385.1597919736678 9.955941493444698e-06
385.15980160511725 9.631449472635722e-06
385.1598109226501 9.317532828845287e-06
385.15981993649683 9.013846749894583e-06
385.1598286565545 8.720057678601734e-06
385.15983709239794 8.435843426468637e-06
385.15984525329 8.160892036812584e-06
385.1598531481913 7.89490133001891e-06
385.15986078577083 7.637579528818605e-06
385.15986817441507 7.388644235106767e-06
385.15987532223704 7.1478219751952565e-06
385.15988223708564 6.914848597716627e-06
385.1598889265536 6.689467966225493e-06
385.1598953979866 6.471432982380065e-06
385.1599016584908 6.260504221700103e-06
385.15990771494074 6.05644993356691e-06
385.15991357398707 5.859046325440431e-06
385.1599192420633 5.668076255460619e-06
385.159924725394 5.483330653532903e-06
385.1599300300003 5.304606304434856e-06
385.1599351617072 5.131706927841151e-06
385.15994012615005 4.96444283726305e-06
385.1599449287803 4.802630257927376e-06
385.1599495748721 4.6460917815238645e-06
385.15995406952743 4.4946553430236236e-06
385.1599584176819 4.34815444805281e-06
385.15996262411073 4.206428855013655e-06
385.15996669343286 4.069322130817454e-06
385.1599706301174 3.936684549898928e-06
385.1599744384871 3.8083696836110903e-06
385.1599781227245 3.68423741292645e-06
385.1599816868754 3.5641509157358087e-06
385.15998513485386 3.4479784289942472e-06
385.1599884704462 3.335592339226423e-06
385.1599916973157 3.2268695235870837e-06
385.15999481900604 3.121690326679527e-06
385.15999783894534 3.019939299520047e-06
385.16000076045003 2.921504687947163e-06
385.16000358672864 2.826278603151877e-06
385.1600063208849 2.7341562827132293e-06
385.16000896592135 2.6450364316588093e-06
385.160011524743 2.5588216772121086e-06
385.16001400015983 2.4754168066465354e-06
385.1600163948902 2.3947303589011426e-06
385.1600187115643 2.3166741129898583e-06
385.1600209527261 2.2411617806028516e-06
385.1600231208371 2.1681109956261935e-06
385.16002521827824 2.097441154091939e-06
385.1600272473529 2.0290746647333435e-06
385.1600292102896 1.962936721611186e-06
385.16003110924396 1.898954337775649e-06
385.16003294630144 1.8370574821346963e-06
385.1600347234797 1.777178283646208e-06
385.1600364427304 1.7192506902574678e-06
385.1600381059416 1.6632112078696082e-06
385.16003971493996 1.6089983319034218e-06
385.16004127149256 1.5565526041427802e-06
385.16004277730883 1.5058162716741208e-06
385.16004423404263 1.4567337984772166e-06
385.1600456432936 1.4092509559304744e-06
385.16004700660955 1.363315959679312e-06
385.1600483254876 1.3188780485506868e-06
385.1600496013765 1.275888905638567e-06
385.16005083567705 1.234300555097434e-06
385.16005202974526 1.1940682043132256e-06
385.16005318489226 1.1551470038284606e-06
385.16005430238675 1.11749449160925e-06
385.160055383456 1.0810692288032442e-06
385.1600564292873 1.045831311330403e-06
385.16005744102927 1.0117419719790632e-06
385.16005841979296 9.787636940927769e-07
</pre></div>
</div>
</div>
</div>
<p>Implement a class which contains the state of an optimization problem.  Make this class an iterator.</p>
<p>Use this for introspection of the solver.</p>
<div class="section" id="id2">
<h3>Exercises<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<p>Implement the game of life using an Iterator or Generator</p>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "pycourse"
        },
        kernelOptions: {
            kernelName: "pycourse",
            path: "./00_python"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'pycourse'</script>

              </div>
              
        </div>
    </div>
    
    
    <div class='prev-next-bottom'>
        
    <a class='left-prev' id="prev-link" href="decorators.html" title="previous page">Decorators</a>
    <a class='right-next' id="next-link" href="misc.html" title="next page">Miscellaneous</a>

    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By Brad Nelson<br/>
        
            &copy; Copyright 2020.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>

    <script src="../_static/js/index.js"></script>
    
  </body>
</html>